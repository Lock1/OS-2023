#include "lib-header/driver/vga/video-mode-preset/mode-13h.h"

const struct VGAExternalRegister _vga_preset_mode_13h_external = {
    .output          = {
        .ioas             = 1,
        .ram_enable       = 1,
        .clock_select     = 0,
        .odd_even_page    = 1,
        .horizontal_sync  = 1,
        .vertical_sync    = 0,
    },
    .feature_control = {
        .feature_control0 = 0,
        .feature_control1 = 0,
    },
};



const struct VGASequencerRegister _vga_preset_mode_13h_sequencer = {
    .reset = {
        .asynchronous_reset      = 1,
        .synchronous_reset       = 1,
    },
    .clocking_mode = {
        .dot_9_8_mode            = 1,
        .shift_load_rate         = 0,
        .dot_clock_rate          = 0,
        .shift_four_mode         = 0,
        .screen_disable          = 0,
    },
    .map_mask = {
        .enable_memory_plane_0   = 1,
        .enable_memory_plane_1   = 1,
        .enable_memory_plane_2   = 1,
        .enable_memory_plane_3   = 1,
    },
    .character_map = {
        .character_set_b         = 0,
        .character_set_a         = 0,
        .second_bit_charset_b    = 0,
        .second_bit_charset_a    = 0,
    },
    .sequencer_memory_mode = {
        .extended_memory         = 1,
        .disable_odd_even_memory = 1,
        .enable_chain_four       = 1,
    },
};



const struct VGACRTControllerRegister _vga_preset_mode_13h_crt_controller = {
    .horizontal_total = {
        .horizontal_total          = 0x5F,
    },
    .end_horizontal_display = {
        .end_horizontal_display    = 0x4F,
    },
    .start_horizontal_blanking = {
        .start_horizontal_blanking = 0x50,
    },
    .end_horizontal_blanking = {
        .end_horizontal_blanking   = 0b00010,
        .display_enable_skew       = 0,
        .vertical_rectrace         = 1,
    },
    .start_horizontal_retrace = {
        .start_horizontal_retrace  = 0x54,
    },

    .end_horizontal_retrace = {
        .end_horizontal_retrace    = 0,
        .horizontal_retrace_skew   = 0,
        .end_horizontal_blanking_5 = 1,
    },
    .vertical_total = {
        .vertical_total = 0xBF,
    },
    .overflow = {
        .vertical_total_8          = 1,
        .vertical_display_end_8    = 1,
        .vertical_retrace_start_8  = 1,
        .start_vertical_blanking_8 = 1,
        .line_compare_8            = 1,
        .vertical_total_9          = 0,
        .vertical_display_end_9    = 0,
        .vertical_retrace_start_9  = 0,
    },
    .preset_row_scan = {
        .byte_panning              = 0,
        .preset_row_scan           = 0,
    },
    .maximum_scanline = {
        .maximum_scanline          = 0b00001,
        .start_vertical_blanking_9 = 0,
        .line_compare_9            = 1,
        .scan_doubling             = 0,
    },

    .cursor_start = {
        .cursor_scanline_start     = 0,
        .cursor_disable            = 0,
    },
    .cursor_end = {
        .cursor_scanline_end       = 0,
        .ega_cursor_skew           = 0,
    },
    .start_address_high = {
        .start_address_high        = 0,
    },
    .start_address_low = {
        .start_address_low         = 0,
    },
    .cursor_location_high = {
        .cursor_location_high      = 0,
    },

    .cursor_location_low = {
        .cursor_location_low       = 0,
    },
    .vertical_retrace_start = {
        .vertical_retrace_start    = 0x9C,
    },
    .vertical_retrace_end = {
        .vertical_retrace_end      = 0xE,
        .memory_bandwidth          = 0,
        .protect_crt_register      = 0,
    },
    .vertical_display_end = {
        .vertical_display_end      = 0x8F,
    },
    .offset = {
        .offset                    = 0x28,
    },

    .underline_location = {
        .underline_location        = 0,
        .divide_4_address_clock    = 0,
        .double_word_addressing    = 1,
    },
    .start_vertical_blanking = {
        .start_vertical_blanking   = 0x96,
    },
    .end_vertical_blanking = {
        .end_vertical_blanking     = 0xB9,
    },
    .ctrc_mode_control = {
        .map_display_address_13    = 1,
        .map_display_address_14    = 1,
        .divide_2_scanline         = 0,
        .divide_2_address_clock    = 0,
        .address_wrap              = 1,
        .use_byte_mode             = 0,
        .sync_enable               = 1,
    },
    .line_compare = {
        .line_compare_register     = 0xFF,
    },
};



const struct VGAGraphicsRegister _vga_preset_mode_13h_graphics = {
    .set_reset = {
        .plane_0_set_reset        = 0,
        .plane_1_set_reset        = 0,
        .plane_2_set_reset        = 0,
        .plane_3_set_reset        = 0,
    },
    .enable_set_reset = {
        .plane_0_enable_set_reset = 0,
        .plane_1_enable_set_reset = 0,
        .plane_2_enable_set_reset = 0,
        .plane_3_enable_set_reset = 0,
    },
    .color_compare = {
        .plane_0_color_compare    = 0,
        .plane_1_color_compare    = 0,
        .plane_2_color_compare    = 0,
        .plane_3_color_compare    = 0,
    },
    .data_rotate = {
        .logical_operation        = 0,
        .rotate_count             = 0,
    },
    .read_map_select = {
        .read_map_select          = 0,
    },

    .graphics_mode = {
        .write_mode               = 0,
        .read_mode                = 0,
        .host_even_odd            = 0,
        .interleave_register      = 0,
        .color_shift_256          = 1,
    },
    .miscellaneous_graphics = {
        .alphanumeric_disable     = 1,
        .chain_even_odd           = 0,
        .memory_map_select        = 1,
    },
    .color_dont_care = {
        .plane_0_color_dont_care  = 1,
        .plane_1_color_dont_care  = 1,
        .plane_2_color_dont_care  = 1,
        .plane_3_color_dont_care  = 1,
    },
    .bit_mask = {
        .bit_mask                 = 0xFF,
    },
};



const struct VGAAttributeControllerRegister _vga_preset_mode_13h_attribute_controller = {
    .palette_array = {
        [0]  = {.internal_palette_index = 0x0},
        [1]  = {.internal_palette_index = 0x1},
        [2]  = {.internal_palette_index = 0x2},
        [3]  = {.internal_palette_index = 0x3},
        [4]  = {.internal_palette_index = 0x4},
        [5]  = {.internal_palette_index = 0x5},
        [6]  = {.internal_palette_index = 0x6},
        [7]  = {.internal_palette_index = 0x7},
        [8]  = {.internal_palette_index = 0x8},
        [9]  = {.internal_palette_index = 0x9},
        [10] = {.internal_palette_index = 0xA},
        [11] = {.internal_palette_index = 0xB},
        [12] = {.internal_palette_index = 0xC},
        [13] = {.internal_palette_index = 0xD},
        [14] = {.internal_palette_index = 0xE},
        [15] = {.internal_palette_index = 0xF},
    },
    .attribute_mode_control = {
        .attribute_controller_graphics_enable = 1,
        .monochrome_emulation                 = 0,
        .line_graphics                        = 0,
        .blink_enable                         = 0,
        .pixel_panning_mode                   = 0,
        .color_8_bit_mode                     = 1,
        .palette_bit_5_4                      = 0,
    },
    .overscan_color = {
        .overscan_palette_index               = 0,
    },
    .color_plane_enable = {
        .plane_0_color_plane_enable           = 1,
        .plane_1_color_plane_enable           = 1,
        .plane_2_color_plane_enable           = 1,
        .plane_3_color_plane_enable           = 1,
    },
    .horizontal_pixel_panning = {
        .pixel_shift_count                    = 0,
    },
    .color_select = {
        .color_select_5_4                     = 0,
        .color_select_7_6                     = 0,
    },
};



const uint8_t _vga_preset_mode_13h_color_palette[MODE_13H_COLOR*3] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x24, 0x24, 0xD4, 0x51, 0x24, 0xD4, 0x7F, 0x24, 0xD4, 0xAD, 0x24, 0xD4, 0xD4, 0x24, 0xCE, 0xD4, 0x24, 0xA0, 0xD4, 0x24, 0x73, 0xD4, 0x24, 0x45, 0xD4, 0x2C, 0x24, 0xD4, 0x5A, 0x24, 0xD4, 0x87, 0x24, 0xD4, 0xB5, 0x24, 0xC5, 0xD4, 0x24, 0x98, 0xD4, 0x24, 0x6A, 0xD4, 0x24, 0x3D, 0xD4, 0x24, 
    0x24, 0xD4, 0x38, 0x24, 0xD4, 0x66, 0x24, 0xD4, 0x94, 0x24, 0xD4, 0xC1, 0x24, 0xB9, 0xD4, 0x24, 0x8B, 0xD4, 0x24, 0x5E, 0xD4, 0x24, 0x30, 0xD4, 0x47, 0x47, 0xD4, 0x6C, 0x47, 0xD4, 0x90, 0x47, 0xD4, 0xB5, 0x47, 0xD4, 0xD4, 0x47, 0xCF, 0xD4, 0x47, 0xAB, 0xD4, 0x47, 0x86, 0xD4, 0x47, 0x62, 
    0xD4, 0x4E, 0x47, 0xD4, 0x72, 0x47, 0xD4, 0x97, 0x47, 0xD4, 0xBB, 0x47, 0xC8, 0xD4, 0x47, 0xA4, 0xD4, 0x47, 0x80, 0xD4, 0x47, 0x5B, 0xD4, 0x47, 0x47, 0xD4, 0x58, 0x47, 0xD4, 0x7C, 0x47, 0xD4, 0xA1, 0x47, 0xD4, 0xC5, 0x47, 0xBF, 0xD4, 0x47, 0x9A, 0xD4, 0x47, 0x76, 0xD4, 0x47, 0x51, 0xD4, 
    0x8F, 0x8F, 0xD4, 0xA1, 0x8F, 0xD4, 0xB3, 0x8F, 0xD4, 0xC5, 0x8F, 0xD4, 0xD4, 0x8F, 0xD2, 0xD4, 0x8F, 0xC0, 0xD4, 0x8F, 0xAE, 0xD4, 0x8F, 0x9C, 0xD4, 0x92, 0x8F, 0xD4, 0xA4, 0x8F, 0xD4, 0xB6, 0x8F, 0xD4, 0xC8, 0x8F, 0xCE, 0xD4, 0x8F, 0xBC, 0xD4, 0x8F, 0xAB, 0xD4, 0x8F, 0x99, 0xD4, 0x8F, 
    0x8F, 0xD4, 0x97, 0x8F, 0xD4, 0xA9, 0x8F, 0xD4, 0xBB, 0x8F, 0xD4, 0xCD, 0x8F, 0xC9, 0xD4, 0x8F, 0xB8, 0xD4, 0x8F, 0xA6, 0xD4, 0x8F, 0x94, 0xD4, 0x1C, 0x1C, 0xA9, 0x41, 0x1C, 0xA9, 0x65, 0x1C, 0xA9, 0x8A, 0x1C, 0xA9, 0xA9, 0x1C, 0xA4, 0xA9, 0x1C, 0x80, 0xA9, 0x1C, 0x5B, 0xA9, 0x1C, 0x37, 
    0xA9, 0x23, 0x1C, 0xA9, 0x47, 0x1C, 0xA9, 0x6C, 0x1C, 0xA9, 0x90, 0x1C, 0x9D, 0xA9, 0x1C, 0x79, 0xA9, 0x1C, 0x55, 0xA9, 0x1C, 0x30, 0xA9, 0x1C, 0x1C, 0xA9, 0x2D, 0x1C, 0xA9, 0x51, 0x1C, 0xA9, 0x76, 0x1C, 0xA9, 0x9A, 0x1C, 0x94, 0xA9, 0x1C, 0x6F, 0xA9, 0x1C, 0x4B, 0xA9, 0x1C, 0x26, 0xA9, 
    0x39, 0x39, 0xA9, 0x56, 0x39, 0xA9, 0x73, 0x39, 0xA9, 0x90, 0x39, 0xA9, 0xA9, 0x39, 0xA5, 0xA9, 0x39, 0x88, 0xA9, 0x39, 0x6B, 0xA9, 0x39, 0x4E, 0xA9, 0x3E, 0x39, 0xA9, 0x5B, 0x39, 0xA9, 0x78, 0x39, 0xA9, 0x95, 0x39, 0xA0, 0xA9, 0x39, 0x83, 0xA9, 0x39, 0x66, 0xA9, 0x39, 0x49, 0xA9, 0x39, 
    0x39, 0xA9, 0x46, 0x39, 0xA9, 0x63, 0x39, 0xA9, 0x80, 0x39, 0xA9, 0x9D, 0x39, 0x98, 0xA9, 0x39, 0x7B, 0xA9, 0x39, 0x5E, 0xA9, 0x39, 0x41, 0xA9, 0x72, 0x72, 0xA9, 0x80, 0x72, 0xA9, 0x8E, 0x72, 0xA9, 0x9D, 0x72, 0xA9, 0xA9, 0x72, 0xA7, 0xA9, 0x72, 0x99, 0xA9, 0x72, 0x8B, 0xA9, 0x72, 0x7C, 
    0xA9, 0x75, 0x72, 0xA9, 0x83, 0x72, 0xA9, 0x91, 0x72, 0xA9, 0x9F, 0x72, 0xA4, 0xA9, 0x72, 0x96, 0xA9, 0x72, 0x88, 0xA9, 0x72, 0x7A, 0xA9, 0x72, 0x72, 0xA9, 0x78, 0x72, 0xA9, 0x87, 0x72, 0xA9, 0x95, 0x72, 0xA9, 0xA3, 0x72, 0xA1, 0xA9, 0x72, 0x92, 0xA9, 0x72, 0x84, 0xA9, 0x72, 0x76, 0xA9, 
    0x0E, 0x0E, 0x53, 0x20, 0x0E, 0x53, 0x32, 0x0E, 0x53, 0x44, 0x0E, 0x53, 0x53, 0x0E, 0x51, 0x53, 0x0E, 0x3F, 0x53, 0x0E, 0x2D, 0x53, 0x0E, 0x1B, 0x53, 0x11, 0x0E, 0x53, 0x23, 0x0E, 0x53, 0x35, 0x0E, 0x53, 0x47, 0x0E, 0x4D, 0x53, 0x0E, 0x3B, 0x53, 0x0E, 0x2A, 0x53, 0x0E, 0x18, 0x53, 0x0E, 
    0x0E, 0x53, 0x16, 0x0E, 0x53, 0x28, 0x0E, 0x53, 0x3A, 0x0E, 0x53, 0x4C, 0x0E, 0x48, 0x53, 0x0E, 0x37, 0x53, 0x0E, 0x25, 0x53, 0x0E, 0x13, 0x53, 0x1C, 0x1C, 0x53, 0x2A, 0x1C, 0x53, 0x38, 0x1C, 0x53, 0x47, 0x1C, 0x53, 0x53, 0x1C, 0x51, 0x53, 0x1C, 0x43, 0x53, 0x1C, 0x35, 0x53, 0x1C, 0x26, 
    0x53, 0x1F, 0x1C, 0x53, 0x2D, 0x1C, 0x53, 0x3B, 0x1C, 0x53, 0x49, 0x1C, 0x4E, 0x53, 0x1C, 0x40, 0x53, 0x1C, 0x32, 0x53, 0x1C, 0x24, 0x53, 0x1C, 0x1C, 0x53, 0x22, 0x1C, 0x53, 0x31, 0x1C, 0x53, 0x3F, 0x1C, 0x53, 0x4D, 0x1C, 0x4B, 0x53, 0x1C, 0x3C, 0x53, 0x1C, 0x2E, 0x53, 0x1C, 0x20, 0x53, 
    0x38, 0x38, 0x53, 0x3F, 0x38, 0x53, 0x46, 0x38, 0x53, 0x4D, 0x38, 0x53, 0x53, 0x38, 0x52, 0x53, 0x38, 0x4B, 0x53, 0x38, 0x44, 0x53, 0x38, 0x3D, 0x53, 0x39, 0x38, 0x53, 0x40, 0x38, 0x53, 0x47, 0x38, 0x53, 0x4E, 0x38, 0x51, 0x53, 0x38, 0x4A, 0x53, 0x38, 0x43, 0x53, 0x38, 0x3C, 0x53, 0x38, 
    0x38, 0x53, 0x3B, 0x38, 0x53, 0x42, 0x38, 0x53, 0x49, 0x38, 0x53, 0x50, 0x38, 0x4F, 0x53, 0x38, 0x48, 0x53, 0x38, 0x41, 0x53, 0x38, 0x3A, 0x53, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
};



const uint8_t _vga_preset_mode_13h_bubach_color_palette[MODE_13H_COLOR*3] = {
    00, 00, 00, 00, 10, 41, 12, 28, 18,  2, 43, 22, 35, 19,  9, 58, 
    00, 00, 57, 35, 12, 43, 43, 47, 24, 24, 28, 20, 24, 60, 10, 60, 
    15, 31, 47, 63, 62, 56, 20, 60, 56, 22, 63, 61, 36, 63, 63, 63, 
    00, 00, 00,  5,  5,  5,  8,  8,  8, 11, 11, 11, 14, 14, 14, 17, 
    17, 17, 20, 20, 20, 24, 24, 24, 28, 28, 28, 32, 32, 32, 36, 36, 
    36, 40, 40, 40, 45, 45, 45, 50, 50, 50, 56, 56, 56, 63, 63, 63, 
    13, 12, 15, 15, 16, 22, 17, 20, 29, 19, 24, 36, 21, 28, 43, 23, 
    31, 50, 25, 34, 57, 26, 42, 63, 00, 15,  2,  1, 22,  4,  2, 29, 
     6,  3, 36,  8,  4, 43, 10,  5, 50, 12,  6, 57, 14, 20, 63, 40, 
    18,  6,  7, 25, 12, 11, 33, 17, 14, 40, 23, 18, 48, 28, 21, 55, 
    34, 25, 62, 39, 27, 63, 48, 36, 15,  3,  2, 22,  6,  4, 29,  9, 
     6, 36, 12,  8, 43, 15, 10, 50, 18, 12, 57, 21, 14, 63, 28, 20, 
    15, 00, 00, 22,  7, 00, 29, 15, 00, 36, 23, 00, 43, 31, 00, 50,
    39, 00, 57, 47, 00, 63, 55, 00, 15,  5,  3, 22, 11,  7, 29, 17, 
    11, 36, 23, 15, 43, 29, 19, 50, 35, 23, 57, 41, 27, 63, 53, 34, 
    28, 14, 12, 33, 20, 14, 38, 26, 16, 43, 32, 18, 48, 38, 20, 53, 
    44, 22, 58, 50, 24, 63, 56, 30,  5,  5,  6, 10, 10, 13, 15, 15, 
    20, 20, 20, 27, 25, 25, 34, 30, 30, 41, 35, 35, 48, 44, 44, 63, 
     3,  6,  5,  5, 11,  9,  7, 16, 13,  9, 21, 17, 11, 26, 21, 13, 
    31, 25, 15, 36, 29, 20, 48, 38,  6,  6,  7, 13, 13, 15, 20, 20, 
    23, 27, 27, 31, 34, 34, 39, 41, 41, 47, 48, 48, 55, 57, 57, 63, 
     6, 15,  4, 12, 22,  8, 18, 29, 12, 24, 36, 16, 30, 43, 20, 36, 
    50, 24, 42, 57, 28, 54, 63, 35, 15, 10, 10, 22, 16, 16, 29, 21, 
    21, 36, 27, 27, 43, 32, 32, 50, 38, 38, 57, 43, 43, 63, 54, 54, 
    15, 15,  6, 22, 22, 12, 29, 29, 18, 36, 36, 24, 43, 43, 30, 50, 
    50, 36, 57, 57, 42, 63, 63, 54,  2,  4, 14,  6, 12, 21, 10, 20,
    28, 14, 28, 35, 18, 36, 42, 22, 44, 49, 26, 52, 56, 36, 63, 63, 
    18,  4, 14, 24,  8, 21, 31, 12, 28, 37, 16, 35, 44, 20, 42, 50, 
    24, 49, 57, 28, 56, 63, 38, 63, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 53, 44, 22, 
     9,  8, 12, 16, 14, 16, 22, 21, 20, 29, 27, 24, 35, 34, 28, 42, 
    40, 32, 48, 47, 36, 57, 56, 43,  8, 12, 16, 14, 16, 22, 21, 20, 
    29, 27, 24, 35, 34, 28, 42, 40, 32, 48, 47, 36, 57, 56, 43, 63, 
    13, 9,  11, 21, 16, 15, 27, 22, 18, 36, 29, 22, 42, 35, 25, 51, 
    42, 29, 57, 48, 32, 63, 56, 39,  6, 14,  9, 12, 21, 14, 18, 27, 
    22, 24, 33, 28, 30, 39, 36, 36, 46, 42, 42, 52, 47, 50, 59, 53, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00,
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 
    00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00,
};